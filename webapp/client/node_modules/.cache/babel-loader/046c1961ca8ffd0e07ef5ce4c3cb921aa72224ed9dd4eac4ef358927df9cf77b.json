{"ast":null,"code":"import _objectSpread from\"D:/Code/AI/Face Recognition using Iris scanning/webapp/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useCallback,useRef}from'react';import{useDropzone}from'react-dropzone';import Webcam from'react-webcam';import{Camera,Upload,CheckCircle,XCircle,RefreshCw,Image}from'lucide-react';import axios from'axios';import toast from'react-hot-toast';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function MarkAttendance(){const[mode,setMode]=useState('upload');// 'upload' or 'webcam'\nconst[preview,setPreview]=useState(null);const[loading,setLoading]=useState(false);const[result,setResult]=useState(null);const webcamRef=useRef(null);const onDrop=useCallback(acceptedFiles=>{const file=acceptedFiles[0];if(file){setPreview(URL.createObjectURL(file));processImage(file);}},[]);const{getRootProps,getInputProps,isDragActive}=useDropzone({onDrop,accept:{'image/*':['.jpeg','.jpg','.png','.bmp','.tiff']},maxFiles:1});const captureFromWebcam=useCallback(()=>{var _webcamRef$current;const imageSrc=(_webcamRef$current=webcamRef.current)===null||_webcamRef$current===void 0?void 0:_webcamRef$current.getScreenshot();if(imageSrc){setPreview(imageSrc);// Convert base64 to blob\nfetch(imageSrc).then(res=>res.blob()).then(blob=>{const file=new File([blob],'webcam-capture.jpg',{type:'image/jpeg'});processImage(file);});}},[]);const processImage=async file=>{setLoading(true);setResult(null);const formData=new FormData();formData.append('image',file);try{const response=await axios.post('/api/attendance/mark',formData,{headers:{'Content-Type':'multipart/form-data'}});const data=response.data.data;setResult(data);if(data.success){toast.success(\"\".concat(data.entry_type,\" recorded for \").concat(data.name,\"!\"));}else{toast.error(data.message||'Recognition failed');}}catch(error){var _error$response,_error$response$data;const errorMsg=((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.error)||'Failed to process image';toast.error(errorMsg);setResult({success:false,message:errorMsg});}finally{setLoading(false);}};const reset=()=>{setPreview(null);setResult(null);};return/*#__PURE__*/_jsxs(\"div\",{className:\"animate-fadeIn\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-8\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-white mb-2\",children:\"Mark Attendance\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-white/70\",children:\"Upload or capture an iris image to mark attendance\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-2 gap-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card overflow-hidden\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-r from-indigo-600 to-purple-600 px-6 py-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold text-white\",children:\"Capture Iris\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setMode('upload'),className:\"px-4 py-2 rounded-lg transition-all \".concat(mode==='upload'?'bg-white text-indigo-600':'bg-white/20 text-white hover:bg-white/30'),children:/*#__PURE__*/_jsx(Upload,{className:\"w-5 h-5\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setMode('webcam'),className:\"px-4 py-2 rounded-lg transition-all \".concat(mode==='webcam'?'bg-white text-indigo-600':'bg-white/20 text-white hover:bg-white/30'),children:/*#__PURE__*/_jsx(Camera,{className:\"w-5 h-5\"})})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[mode==='upload'?/*#__PURE__*/_jsxs(\"div\",_objectSpread(_objectSpread({},getRootProps()),{},{className:\"dropzone \".concat(isDragActive?'active':''),children:[/*#__PURE__*/_jsx(\"input\",_objectSpread({},getInputProps())),preview?/*#__PURE__*/_jsx(\"img\",{src:preview,alt:\"Preview\",className:\"max-h-64 mx-auto rounded-lg\"}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Image,{className:\"w-16 h-16 mx-auto mb-4 text-gray-400\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-lg text-gray-600 mb-2\",children:isDragActive?'Drop the image here':'Drag & drop an iris image'}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-400\",children:\"or click to select\"})]})]})):/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"rounded-lg overflow-hidden mb-4\",children:/*#__PURE__*/_jsx(Webcam,{ref:webcamRef,audio:false,screenshotFormat:\"image/jpeg\",className:\"w-full\",videoConstraints:{width:640,height:480,facingMode:'user'}})}),/*#__PURE__*/_jsxs(\"button\",{onClick:captureFromWebcam,disabled:loading,className:\"btn-primary flex items-center space-x-2 mx-auto\",children:[/*#__PURE__*/_jsx(Camera,{className:\"w-5 h-5\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Capture\"})]})]}),loading&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-center mt-6\",children:[/*#__PURE__*/_jsx(RefreshCw,{className:\"w-8 h-8 animate-spin text-indigo-600\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 text-gray-600\",children:\"Processing...\"})]}),preview&&!loading&&/*#__PURE__*/_jsxs(\"button\",{onClick:reset,className:\"btn-secondary flex items-center space-x-2 mx-auto mt-4\",children:[/*#__PURE__*/_jsx(RefreshCw,{className:\"w-5 h-5\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Try Again\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card overflow-hidden\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"px-6 py-4 \".concat(result!==null&&result!==void 0&&result.success?'bg-gradient-to-r from-green-500 to-emerald-600':result&&!result.success?'bg-gradient-to-r from-red-500 to-rose-600':'bg-gradient-to-r from-gray-500 to-gray-600'),children:/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold text-white flex items-center\",children:result!==null&&result!==void 0&&result.success?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(CheckCircle,{className:\"w-6 h-6 mr-2\"}),\" Attendance Recorded\"]}):result?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(XCircle,{className:\"w-6 h-6 mr-2\"}),\" Recognition Failed\"]}):'Result'})}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[result!==null&&result!==void 0&&result.success?/*#__PURE__*/_jsxs(\"div\",{className:\"animate-fadeIn\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-center mb-6\",children:/*#__PURE__*/_jsx(CheckCircle,{className:\"w-20 h-20 text-green-500 mx-auto mb-4\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between py-3 border-b\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-500\",children:\"Name\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold\",children:result.name})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between py-3 border-b\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-500\",children:\"Iris ID\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-mono\",children:result.iris_id})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between py-3 border-b\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-500\",children:\"Time\"}),/*#__PURE__*/_jsx(\"span\",{children:new Date(result.timestamp).toLocaleTimeString()})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between py-3 border-b\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-500\",children:\"Entry Type\"}),/*#__PURE__*/_jsx(\"span\",{className:\"badge \".concat(result.entry_type==='CHECK_IN'?'badge-success':'badge-info'),children:result.entry_type})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between py-3 border-b\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-500\",children:\"Status\"}),/*#__PURE__*/_jsx(\"span\",{className:\"badge \".concat(result.status==='ON_TIME'?'badge-success':result.status==='LATE'?'badge-warning':'badge-info'),children:result.status})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between py-3\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-500\",children:\"Confidence\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-24 h-3 bg-gray-200 rounded-full mr-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"h-3 bg-green-500 rounded-full\",style:{width:\"\".concat(result.confidence*100,\"%\")}})}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-semibold\",children:[(result.confidence*100).toFixed(1),\"%\"]})]})]})]})]}):result?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8 animate-fadeIn\",children:[/*#__PURE__*/_jsx(XCircle,{className:\"w-20 h-20 text-red-500 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-lg text-gray-600\",children:result.message})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12 text-gray-400\",children:[/*#__PURE__*/_jsx(Camera,{className:\"w-16 h-16 mx-auto mb-4 opacity-50\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Upload or capture an image to see results\"})]}),(result===null||result===void 0?void 0:result.top_k)&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6 pt-6 border-t\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold mb-3 text-gray-700\",children:\"Top Predictions\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2\",children:result.top_k.map((_ref,index)=>{let[id,conf]=_ref;return/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"w-8 text-gray-400\",children:[index+1,\".\"]}),/*#__PURE__*/_jsx(\"span\",{className:\"flex-1\",children:id}),/*#__PURE__*/_jsx(\"div\",{className:\"w-24 h-2 bg-gray-200 rounded-full mr-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"h-2 rounded-full \".concat(index===0?'bg-green-500':'bg-gray-400'),style:{width:\"\".concat(conf*100,\"%\")}})}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-gray-600 w-16 text-right\",children:[(conf*100).toFixed(1),\"%\"]})]},index);})})]})]})]})]})]});}export default MarkAttendance;","map":{"version":3,"names":["React","useState","useCallback","useRef","useDropzone","Webcam","Camera","Upload","CheckCircle","XCircle","RefreshCw","Image","axios","toast","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","MarkAttendance","mode","setMode","preview","setPreview","loading","setLoading","result","setResult","webcamRef","onDrop","acceptedFiles","file","URL","createObjectURL","processImage","getRootProps","getInputProps","isDragActive","accept","maxFiles","captureFromWebcam","_webcamRef$current","imageSrc","current","getScreenshot","fetch","then","res","blob","File","type","formData","FormData","append","response","post","headers","data","success","concat","entry_type","name","error","message","_error$response","_error$response$data","errorMsg","reset","className","children","onClick","_objectSpread","src","alt","ref","audio","screenshotFormat","videoConstraints","width","height","facingMode","disabled","iris_id","Date","timestamp","toLocaleTimeString","status","style","confidence","toFixed","top_k","map","_ref","index","id","conf"],"sources":["D:/Code/AI/Face Recognition using Iris scanning/webapp/client/src/pages/MarkAttendance.js"],"sourcesContent":["import React, { useState, useCallback, useRef } from 'react';\r\nimport { useDropzone } from 'react-dropzone';\r\nimport Webcam from 'react-webcam';\r\nimport { Camera, Upload, CheckCircle, XCircle, RefreshCw, Image } from 'lucide-react';\r\nimport axios from 'axios';\r\nimport toast from 'react-hot-toast';\r\n\r\nfunction MarkAttendance() {\r\n  const [mode, setMode] = useState('upload'); // 'upload' or 'webcam'\r\n  const [preview, setPreview] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [result, setResult] = useState(null);\r\n  const webcamRef = useRef(null);\r\n\r\n  const onDrop = useCallback((acceptedFiles) => {\r\n    const file = acceptedFiles[0];\r\n    if (file) {\r\n      setPreview(URL.createObjectURL(file));\r\n      processImage(file);\r\n    }\r\n  }, []);\r\n\r\n  const { getRootProps, getInputProps, isDragActive } = useDropzone({\r\n    onDrop,\r\n    accept: {\r\n      'image/*': ['.jpeg', '.jpg', '.png', '.bmp', '.tiff']\r\n    },\r\n    maxFiles: 1\r\n  });\r\n\r\n  const captureFromWebcam = useCallback(() => {\r\n    const imageSrc = webcamRef.current?.getScreenshot();\r\n    if (imageSrc) {\r\n      setPreview(imageSrc);\r\n      // Convert base64 to blob\r\n      fetch(imageSrc)\r\n        .then(res => res.blob())\r\n        .then(blob => {\r\n          const file = new File([blob], 'webcam-capture.jpg', { type: 'image/jpeg' });\r\n          processImage(file);\r\n        });\r\n    }\r\n  }, []);\r\n\r\n  const processImage = async (file) => {\r\n    setLoading(true);\r\n    setResult(null);\r\n\r\n    const formData = new FormData();\r\n    formData.append('image', file);\r\n\r\n    try {\r\n      const response = await axios.post('/api/attendance/mark', formData, {\r\n        headers: { 'Content-Type': 'multipart/form-data' }\r\n      });\r\n\r\n      const data = response.data.data;\r\n      setResult(data);\r\n\r\n      if (data.success) {\r\n        toast.success(`${data.entry_type} recorded for ${data.name}!`);\r\n      } else {\r\n        toast.error(data.message || 'Recognition failed');\r\n      }\r\n    } catch (error) {\r\n      const errorMsg = error.response?.data?.error || 'Failed to process image';\r\n      toast.error(errorMsg);\r\n      setResult({ success: false, message: errorMsg });\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const reset = () => {\r\n    setPreview(null);\r\n    setResult(null);\r\n  };\r\n\r\n  return (\r\n    <div className=\"animate-fadeIn\">\r\n      {/* Header */}\r\n      <div className=\"mb-8\">\r\n        <h1 className=\"text-3xl font-bold text-white mb-2\">Mark Attendance</h1>\r\n        <p className=\"text-white/70\">Upload or capture an iris image to mark attendance</p>\r\n      </div>\r\n\r\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8\">\r\n        {/* Input Section */}\r\n        <div className=\"card overflow-hidden\">\r\n          <div className=\"bg-gradient-to-r from-indigo-600 to-purple-600 px-6 py-4\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <h2 className=\"text-xl font-bold text-white\">Capture Iris</h2>\r\n              <div className=\"flex space-x-2\">\r\n                <button\r\n                  onClick={() => setMode('upload')}\r\n                  className={`px-4 py-2 rounded-lg transition-all ${\r\n                    mode === 'upload' \r\n                      ? 'bg-white text-indigo-600' \r\n                      : 'bg-white/20 text-white hover:bg-white/30'\r\n                  }`}\r\n                >\r\n                  <Upload className=\"w-5 h-5\" />\r\n                </button>\r\n                <button\r\n                  onClick={() => setMode('webcam')}\r\n                  className={`px-4 py-2 rounded-lg transition-all ${\r\n                    mode === 'webcam' \r\n                      ? 'bg-white text-indigo-600' \r\n                      : 'bg-white/20 text-white hover:bg-white/30'\r\n                  }`}\r\n                >\r\n                  <Camera className=\"w-5 h-5\" />\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"p-6\">\r\n            {mode === 'upload' ? (\r\n              <div\r\n                {...getRootProps()}\r\n                className={`dropzone ${isDragActive ? 'active' : ''}`}\r\n              >\r\n                <input {...getInputProps()} />\r\n                {preview ? (\r\n                  <img src={preview} alt=\"Preview\" className=\"max-h-64 mx-auto rounded-lg\" />\r\n                ) : (\r\n                  <>\r\n                    <Image className=\"w-16 h-16 mx-auto mb-4 text-gray-400\" />\r\n                    <p className=\"text-lg text-gray-600 mb-2\">\r\n                      {isDragActive ? 'Drop the image here' : 'Drag & drop an iris image'}\r\n                    </p>\r\n                    <p className=\"text-sm text-gray-400\">or click to select</p>\r\n                  </>\r\n                )}\r\n              </div>\r\n            ) : (\r\n              <div className=\"text-center\">\r\n                <div className=\"rounded-lg overflow-hidden mb-4\">\r\n                  <Webcam\r\n                    ref={webcamRef}\r\n                    audio={false}\r\n                    screenshotFormat=\"image/jpeg\"\r\n                    className=\"w-full\"\r\n                    videoConstraints={{\r\n                      width: 640,\r\n                      height: 480,\r\n                      facingMode: 'user'\r\n                    }}\r\n                  />\r\n                </div>\r\n                <button\r\n                  onClick={captureFromWebcam}\r\n                  disabled={loading}\r\n                  className=\"btn-primary flex items-center space-x-2 mx-auto\"\r\n                >\r\n                  <Camera className=\"w-5 h-5\" />\r\n                  <span>Capture</span>\r\n                </button>\r\n              </div>\r\n            )}\r\n\r\n            {loading && (\r\n              <div className=\"flex items-center justify-center mt-6\">\r\n                <RefreshCw className=\"w-8 h-8 animate-spin text-indigo-600\" />\r\n                <span className=\"ml-2 text-gray-600\">Processing...</span>\r\n              </div>\r\n            )}\r\n\r\n            {preview && !loading && (\r\n              <button\r\n                onClick={reset}\r\n                className=\"btn-secondary flex items-center space-x-2 mx-auto mt-4\"\r\n              >\r\n                <RefreshCw className=\"w-5 h-5\" />\r\n                <span>Try Again</span>\r\n              </button>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Result Section */}\r\n        <div className=\"card overflow-hidden\">\r\n          <div className={`px-6 py-4 ${\r\n            result?.success \r\n              ? 'bg-gradient-to-r from-green-500 to-emerald-600' \r\n              : result && !result.success\r\n                ? 'bg-gradient-to-r from-red-500 to-rose-600'\r\n                : 'bg-gradient-to-r from-gray-500 to-gray-600'\r\n          }`}>\r\n            <h2 className=\"text-xl font-bold text-white flex items-center\">\r\n              {result?.success ? (\r\n                <><CheckCircle className=\"w-6 h-6 mr-2\" /> Attendance Recorded</>\r\n              ) : result ? (\r\n                <><XCircle className=\"w-6 h-6 mr-2\" /> Recognition Failed</>\r\n              ) : (\r\n                'Result'\r\n              )}\r\n            </h2>\r\n          </div>\r\n\r\n          <div className=\"p-6\">\r\n            {result?.success ? (\r\n              <div className=\"animate-fadeIn\">\r\n                <div className=\"text-center mb-6\">\r\n                  <CheckCircle className=\"w-20 h-20 text-green-500 mx-auto mb-4\" />\r\n                </div>\r\n                \r\n                <div className=\"space-y-4\">\r\n                  <div className=\"flex justify-between py-3 border-b\">\r\n                    <span className=\"text-gray-500\">Name</span>\r\n                    <span className=\"font-semibold\">{result.name}</span>\r\n                  </div>\r\n                  <div className=\"flex justify-between py-3 border-b\">\r\n                    <span className=\"text-gray-500\">Iris ID</span>\r\n                    <span className=\"font-mono\">{result.iris_id}</span>\r\n                  </div>\r\n                  <div className=\"flex justify-between py-3 border-b\">\r\n                    <span className=\"text-gray-500\">Time</span>\r\n                    <span>{new Date(result.timestamp).toLocaleTimeString()}</span>\r\n                  </div>\r\n                  <div className=\"flex justify-between py-3 border-b\">\r\n                    <span className=\"text-gray-500\">Entry Type</span>\r\n                    <span className={`badge ${result.entry_type === 'CHECK_IN' ? 'badge-success' : 'badge-info'}`}>\r\n                      {result.entry_type}\r\n                    </span>\r\n                  </div>\r\n                  <div className=\"flex justify-between py-3 border-b\">\r\n                    <span className=\"text-gray-500\">Status</span>\r\n                    <span className={`badge ${\r\n                      result.status === 'ON_TIME' ? 'badge-success' : \r\n                      result.status === 'LATE' ? 'badge-warning' : 'badge-info'\r\n                    }`}>\r\n                      {result.status}\r\n                    </span>\r\n                  </div>\r\n                  <div className=\"flex justify-between py-3\">\r\n                    <span className=\"text-gray-500\">Confidence</span>\r\n                    <div className=\"flex items-center\">\r\n                      <div className=\"w-24 h-3 bg-gray-200 rounded-full mr-2\">\r\n                        <div \r\n                          className=\"h-3 bg-green-500 rounded-full\" \r\n                          style={{ width: `${result.confidence * 100}%` }}\r\n                        ></div>\r\n                      </div>\r\n                      <span className=\"font-semibold\">{(result.confidence * 100).toFixed(1)}%</span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ) : result ? (\r\n              <div className=\"text-center py-8 animate-fadeIn\">\r\n                <XCircle className=\"w-20 h-20 text-red-500 mx-auto mb-4\" />\r\n                <p className=\"text-lg text-gray-600\">{result.message}</p>\r\n              </div>\r\n            ) : (\r\n              <div className=\"text-center py-12 text-gray-400\">\r\n                <Camera className=\"w-16 h-16 mx-auto mb-4 opacity-50\" />\r\n                <p>Upload or capture an image to see results</p>\r\n              </div>\r\n            )}\r\n\r\n            {/* Top Predictions */}\r\n            {result?.top_k && (\r\n              <div className=\"mt-6 pt-6 border-t\">\r\n                <h3 className=\"font-semibold mb-3 text-gray-700\">Top Predictions</h3>\r\n                <div className=\"space-y-2\">\r\n                  {result.top_k.map(([id, conf], index) => (\r\n                    <div key={index} className=\"flex items-center\">\r\n                      <span className=\"w-8 text-gray-400\">{index + 1}.</span>\r\n                      <span className=\"flex-1\">{id}</span>\r\n                      <div className=\"w-24 h-2 bg-gray-200 rounded-full mr-2\">\r\n                        <div \r\n                          className={`h-2 rounded-full ${index === 0 ? 'bg-green-500' : 'bg-gray-400'}`}\r\n                          style={{ width: `${conf * 100}%` }}\r\n                        ></div>\r\n                      </div>\r\n                      <span className=\"text-sm text-gray-600 w-16 text-right\">\r\n                        {(conf * 100).toFixed(1)}%\r\n                      </span>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MarkAttendance;\r\n"],"mappings":"kJAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,WAAW,CAAEC,MAAM,KAAQ,OAAO,CAC5D,OAASC,WAAW,KAAQ,gBAAgB,CAC5C,MAAO,CAAAC,MAAM,KAAM,cAAc,CACjC,OAASC,MAAM,CAAEC,MAAM,CAAEC,WAAW,CAAEC,OAAO,CAAEC,SAAS,CAAEC,KAAK,KAAQ,cAAc,CACrF,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,KAAK,KAAM,iBAAiB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAEpC,QAAS,CAAAC,cAAcA,CAAA,CAAG,CACxB,KAAM,CAACC,IAAI,CAAEC,OAAO,CAAC,CAAGrB,QAAQ,CAAC,QAAQ,CAAC,CAAE;AAC5C,KAAM,CAACsB,OAAO,CAAEC,UAAU,CAAC,CAAGvB,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACwB,OAAO,CAAEC,UAAU,CAAC,CAAGzB,QAAQ,CAAC,KAAK,CAAC,CAC7C,KAAM,CAAC0B,MAAM,CAAEC,SAAS,CAAC,CAAG3B,QAAQ,CAAC,IAAI,CAAC,CAC1C,KAAM,CAAA4B,SAAS,CAAG1B,MAAM,CAAC,IAAI,CAAC,CAE9B,KAAM,CAAA2B,MAAM,CAAG5B,WAAW,CAAE6B,aAAa,EAAK,CAC5C,KAAM,CAAAC,IAAI,CAAGD,aAAa,CAAC,CAAC,CAAC,CAC7B,GAAIC,IAAI,CAAE,CACRR,UAAU,CAACS,GAAG,CAACC,eAAe,CAACF,IAAI,CAAC,CAAC,CACrCG,YAAY,CAACH,IAAI,CAAC,CACpB,CACF,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAEI,YAAY,CAAEC,aAAa,CAAEC,YAAa,CAAC,CAAGlC,WAAW,CAAC,CAChE0B,MAAM,CACNS,MAAM,CAAE,CACN,SAAS,CAAE,CAAC,OAAO,CAAE,MAAM,CAAE,MAAM,CAAE,MAAM,CAAE,OAAO,CACtD,CAAC,CACDC,QAAQ,CAAE,CACZ,CAAC,CAAC,CAEF,KAAM,CAAAC,iBAAiB,CAAGvC,WAAW,CAAC,IAAM,KAAAwC,kBAAA,CAC1C,KAAM,CAAAC,QAAQ,EAAAD,kBAAA,CAAGb,SAAS,CAACe,OAAO,UAAAF,kBAAA,iBAAjBA,kBAAA,CAAmBG,aAAa,CAAC,CAAC,CACnD,GAAIF,QAAQ,CAAE,CACZnB,UAAU,CAACmB,QAAQ,CAAC,CACpB;AACAG,KAAK,CAACH,QAAQ,CAAC,CACZI,IAAI,CAACC,GAAG,EAAIA,GAAG,CAACC,IAAI,CAAC,CAAC,CAAC,CACvBF,IAAI,CAACE,IAAI,EAAI,CACZ,KAAM,CAAAjB,IAAI,CAAG,GAAI,CAAAkB,IAAI,CAAC,CAACD,IAAI,CAAC,CAAE,oBAAoB,CAAE,CAAEE,IAAI,CAAE,YAAa,CAAC,CAAC,CAC3EhB,YAAY,CAACH,IAAI,CAAC,CACpB,CAAC,CAAC,CACN,CACF,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAG,YAAY,CAAG,KAAO,CAAAH,IAAI,EAAK,CACnCN,UAAU,CAAC,IAAI,CAAC,CAChBE,SAAS,CAAC,IAAI,CAAC,CAEf,KAAM,CAAAwB,QAAQ,CAAG,GAAI,CAAAC,QAAQ,CAAC,CAAC,CAC/BD,QAAQ,CAACE,MAAM,CAAC,OAAO,CAAEtB,IAAI,CAAC,CAE9B,GAAI,CACF,KAAM,CAAAuB,QAAQ,CAAG,KAAM,CAAA3C,KAAK,CAAC4C,IAAI,CAAC,sBAAsB,CAAEJ,QAAQ,CAAE,CAClEK,OAAO,CAAE,CAAE,cAAc,CAAE,qBAAsB,CACnD,CAAC,CAAC,CAEF,KAAM,CAAAC,IAAI,CAAGH,QAAQ,CAACG,IAAI,CAACA,IAAI,CAC/B9B,SAAS,CAAC8B,IAAI,CAAC,CAEf,GAAIA,IAAI,CAACC,OAAO,CAAE,CAChB9C,KAAK,CAAC8C,OAAO,IAAAC,MAAA,CAAIF,IAAI,CAACG,UAAU,mBAAAD,MAAA,CAAiBF,IAAI,CAACI,IAAI,KAAG,CAAC,CAChE,CAAC,IAAM,CACLjD,KAAK,CAACkD,KAAK,CAACL,IAAI,CAACM,OAAO,EAAI,oBAAoB,CAAC,CACnD,CACF,CAAE,MAAOD,KAAK,CAAE,KAAAE,eAAA,CAAAC,oBAAA,CACd,KAAM,CAAAC,QAAQ,CAAG,EAAAF,eAAA,CAAAF,KAAK,CAACR,QAAQ,UAAAU,eAAA,kBAAAC,oBAAA,CAAdD,eAAA,CAAgBP,IAAI,UAAAQ,oBAAA,iBAApBA,oBAAA,CAAsBH,KAAK,GAAI,yBAAyB,CACzElD,KAAK,CAACkD,KAAK,CAACI,QAAQ,CAAC,CACrBvC,SAAS,CAAC,CAAE+B,OAAO,CAAE,KAAK,CAAEK,OAAO,CAAEG,QAAS,CAAC,CAAC,CAClD,CAAC,OAAS,CACRzC,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAED,KAAM,CAAA0C,KAAK,CAAGA,CAAA,GAAM,CAClB5C,UAAU,CAAC,IAAI,CAAC,CAChBI,SAAS,CAAC,IAAI,CAAC,CACjB,CAAC,CAED,mBACEX,KAAA,QAAKoD,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAE7BrD,KAAA,QAAKoD,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnBvD,IAAA,OAAIsD,SAAS,CAAC,oCAAoC,CAAAC,QAAA,CAAC,iBAAe,CAAI,CAAC,cACvEvD,IAAA,MAAGsD,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAC,oDAAkD,CAAG,CAAC,EAChF,CAAC,cAENrD,KAAA,QAAKoD,SAAS,CAAC,uCAAuC,CAAAC,QAAA,eAEpDrD,KAAA,QAAKoD,SAAS,CAAC,sBAAsB,CAAAC,QAAA,eACnCvD,IAAA,QAAKsD,SAAS,CAAC,0DAA0D,CAAAC,QAAA,cACvErD,KAAA,QAAKoD,SAAS,CAAC,mCAAmC,CAAAC,QAAA,eAChDvD,IAAA,OAAIsD,SAAS,CAAC,8BAA8B,CAAAC,QAAA,CAAC,cAAY,CAAI,CAAC,cAC9DrD,KAAA,QAAKoD,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7BvD,IAAA,WACEwD,OAAO,CAAEA,CAAA,GAAMjD,OAAO,CAAC,QAAQ,CAAE,CACjC+C,SAAS,wCAAAT,MAAA,CACPvC,IAAI,GAAK,QAAQ,CACb,0BAA0B,CAC1B,0CAA0C,CAC7C,CAAAiD,QAAA,cAEHvD,IAAA,CAACR,MAAM,EAAC8D,SAAS,CAAC,SAAS,CAAE,CAAC,CACxB,CAAC,cACTtD,IAAA,WACEwD,OAAO,CAAEA,CAAA,GAAMjD,OAAO,CAAC,QAAQ,CAAE,CACjC+C,SAAS,wCAAAT,MAAA,CACPvC,IAAI,GAAK,QAAQ,CACb,0BAA0B,CAC1B,0CAA0C,CAC7C,CAAAiD,QAAA,cAEHvD,IAAA,CAACT,MAAM,EAAC+D,SAAS,CAAC,SAAS,CAAE,CAAC,CACxB,CAAC,EACN,CAAC,EACH,CAAC,CACH,CAAC,cAENpD,KAAA,QAAKoD,SAAS,CAAC,KAAK,CAAAC,QAAA,EACjBjD,IAAI,GAAK,QAAQ,cAChBJ,KAAA,OAAAuD,aAAA,CAAAA,aAAA,IACMpC,YAAY,CAAC,CAAC,MAClBiC,SAAS,aAAAT,MAAA,CAActB,YAAY,CAAG,QAAQ,CAAG,EAAE,CAAG,CAAAgC,QAAA,eAEtDvD,IAAA,SAAAyD,aAAA,IAAWnC,aAAa,CAAC,CAAC,CAAG,CAAC,CAC7Bd,OAAO,cACNR,IAAA,QAAK0D,GAAG,CAAElD,OAAQ,CAACmD,GAAG,CAAC,SAAS,CAACL,SAAS,CAAC,6BAA6B,CAAE,CAAC,cAE3EpD,KAAA,CAAAE,SAAA,EAAAmD,QAAA,eACEvD,IAAA,CAACJ,KAAK,EAAC0D,SAAS,CAAC,sCAAsC,CAAE,CAAC,cAC1DtD,IAAA,MAAGsD,SAAS,CAAC,4BAA4B,CAAAC,QAAA,CACtChC,YAAY,CAAG,qBAAqB,CAAG,2BAA2B,CAClE,CAAC,cACJvB,IAAA,MAAGsD,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAC,oBAAkB,CAAG,CAAC,EAC3D,CACH,GACE,CAAC,cAENrD,KAAA,QAAKoD,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1BvD,IAAA,QAAKsD,SAAS,CAAC,iCAAiC,CAAAC,QAAA,cAC9CvD,IAAA,CAACV,MAAM,EACLsE,GAAG,CAAE9C,SAAU,CACf+C,KAAK,CAAE,KAAM,CACbC,gBAAgB,CAAC,YAAY,CAC7BR,SAAS,CAAC,QAAQ,CAClBS,gBAAgB,CAAE,CAChBC,KAAK,CAAE,GAAG,CACVC,MAAM,CAAE,GAAG,CACXC,UAAU,CAAE,MACd,CAAE,CACH,CAAC,CACC,CAAC,cACNhE,KAAA,WACEsD,OAAO,CAAE9B,iBAAkB,CAC3ByC,QAAQ,CAAEzD,OAAQ,CAClB4C,SAAS,CAAC,iDAAiD,CAAAC,QAAA,eAE3DvD,IAAA,CAACT,MAAM,EAAC+D,SAAS,CAAC,SAAS,CAAE,CAAC,cAC9BtD,IAAA,SAAAuD,QAAA,CAAM,SAAO,CAAM,CAAC,EACd,CAAC,EACN,CACN,CAEA7C,OAAO,eACNR,KAAA,QAAKoD,SAAS,CAAC,uCAAuC,CAAAC,QAAA,eACpDvD,IAAA,CAACL,SAAS,EAAC2D,SAAS,CAAC,sCAAsC,CAAE,CAAC,cAC9DtD,IAAA,SAAMsD,SAAS,CAAC,oBAAoB,CAAAC,QAAA,CAAC,eAAa,CAAM,CAAC,EACtD,CACN,CAEA/C,OAAO,EAAI,CAACE,OAAO,eAClBR,KAAA,WACEsD,OAAO,CAAEH,KAAM,CACfC,SAAS,CAAC,wDAAwD,CAAAC,QAAA,eAElEvD,IAAA,CAACL,SAAS,EAAC2D,SAAS,CAAC,SAAS,CAAE,CAAC,cACjCtD,IAAA,SAAAuD,QAAA,CAAM,WAAS,CAAM,CAAC,EAChB,CACT,EACE,CAAC,EACH,CAAC,cAGNrD,KAAA,QAAKoD,SAAS,CAAC,sBAAsB,CAAAC,QAAA,eACnCvD,IAAA,QAAKsD,SAAS,cAAAT,MAAA,CACZjC,MAAM,SAANA,MAAM,WAANA,MAAM,CAAEgC,OAAO,CACX,gDAAgD,CAChDhC,MAAM,EAAI,CAACA,MAAM,CAACgC,OAAO,CACvB,2CAA2C,CAC3C,4CAA4C,CACjD,CAAAW,QAAA,cACDvD,IAAA,OAAIsD,SAAS,CAAC,gDAAgD,CAAAC,QAAA,CAC3D3C,MAAM,SAANA,MAAM,WAANA,MAAM,CAAEgC,OAAO,cACd1C,KAAA,CAAAE,SAAA,EAAAmD,QAAA,eAAEvD,IAAA,CAACP,WAAW,EAAC6D,SAAS,CAAC,cAAc,CAAE,CAAC,uBAAoB,EAAE,CAAC,CAC/D1C,MAAM,cACRV,KAAA,CAAAE,SAAA,EAAAmD,QAAA,eAAEvD,IAAA,CAACN,OAAO,EAAC4D,SAAS,CAAC,cAAc,CAAE,CAAC,sBAAmB,EAAE,CAAC,CAE5D,QACD,CACC,CAAC,CACF,CAAC,cAENpD,KAAA,QAAKoD,SAAS,CAAC,KAAK,CAAAC,QAAA,EACjB3C,MAAM,SAANA,MAAM,WAANA,MAAM,CAAEgC,OAAO,cACd1C,KAAA,QAAKoD,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7BvD,IAAA,QAAKsD,SAAS,CAAC,kBAAkB,CAAAC,QAAA,cAC/BvD,IAAA,CAACP,WAAW,EAAC6D,SAAS,CAAC,uCAAuC,CAAE,CAAC,CAC9D,CAAC,cAENpD,KAAA,QAAKoD,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBrD,KAAA,QAAKoD,SAAS,CAAC,oCAAoC,CAAAC,QAAA,eACjDvD,IAAA,SAAMsD,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAC,MAAI,CAAM,CAAC,cAC3CvD,IAAA,SAAMsD,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAE3C,MAAM,CAACmC,IAAI,CAAO,CAAC,EACjD,CAAC,cACN7C,KAAA,QAAKoD,SAAS,CAAC,oCAAoC,CAAAC,QAAA,eACjDvD,IAAA,SAAMsD,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAC,SAAO,CAAM,CAAC,cAC9CvD,IAAA,SAAMsD,SAAS,CAAC,WAAW,CAAAC,QAAA,CAAE3C,MAAM,CAACwD,OAAO,CAAO,CAAC,EAChD,CAAC,cACNlE,KAAA,QAAKoD,SAAS,CAAC,oCAAoC,CAAAC,QAAA,eACjDvD,IAAA,SAAMsD,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAC,MAAI,CAAM,CAAC,cAC3CvD,IAAA,SAAAuD,QAAA,CAAO,GAAI,CAAAc,IAAI,CAACzD,MAAM,CAAC0D,SAAS,CAAC,CAACC,kBAAkB,CAAC,CAAC,CAAO,CAAC,EAC3D,CAAC,cACNrE,KAAA,QAAKoD,SAAS,CAAC,oCAAoC,CAAAC,QAAA,eACjDvD,IAAA,SAAMsD,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAC,YAAU,CAAM,CAAC,cACjDvD,IAAA,SAAMsD,SAAS,UAAAT,MAAA,CAAWjC,MAAM,CAACkC,UAAU,GAAK,UAAU,CAAG,eAAe,CAAG,YAAY,CAAG,CAAAS,QAAA,CAC3F3C,MAAM,CAACkC,UAAU,CACd,CAAC,EACJ,CAAC,cACN5C,KAAA,QAAKoD,SAAS,CAAC,oCAAoC,CAAAC,QAAA,eACjDvD,IAAA,SAAMsD,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAC,QAAM,CAAM,CAAC,cAC7CvD,IAAA,SAAMsD,SAAS,UAAAT,MAAA,CACbjC,MAAM,CAAC4D,MAAM,GAAK,SAAS,CAAG,eAAe,CAC7C5D,MAAM,CAAC4D,MAAM,GAAK,MAAM,CAAG,eAAe,CAAG,YAAY,CACxD,CAAAjB,QAAA,CACA3C,MAAM,CAAC4D,MAAM,CACV,CAAC,EACJ,CAAC,cACNtE,KAAA,QAAKoD,SAAS,CAAC,2BAA2B,CAAAC,QAAA,eACxCvD,IAAA,SAAMsD,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAC,YAAU,CAAM,CAAC,cACjDrD,KAAA,QAAKoD,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChCvD,IAAA,QAAKsD,SAAS,CAAC,wCAAwC,CAAAC,QAAA,cACrDvD,IAAA,QACEsD,SAAS,CAAC,+BAA+B,CACzCmB,KAAK,CAAE,CAAET,KAAK,IAAAnB,MAAA,CAAKjC,MAAM,CAAC8D,UAAU,CAAG,GAAG,KAAI,CAAE,CAC5C,CAAC,CACJ,CAAC,cACNxE,KAAA,SAAMoD,SAAS,CAAC,eAAe,CAAAC,QAAA,EAAE,CAAC3C,MAAM,CAAC8D,UAAU,CAAG,GAAG,EAAEC,OAAO,CAAC,CAAC,CAAC,CAAC,GAAC,EAAM,CAAC,EAC3E,CAAC,EACH,CAAC,EACH,CAAC,EACH,CAAC,CACJ/D,MAAM,cACRV,KAAA,QAAKoD,SAAS,CAAC,iCAAiC,CAAAC,QAAA,eAC9CvD,IAAA,CAACN,OAAO,EAAC4D,SAAS,CAAC,qCAAqC,CAAE,CAAC,cAC3DtD,IAAA,MAAGsD,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAE3C,MAAM,CAACqC,OAAO,CAAI,CAAC,EACtD,CAAC,cAEN/C,KAAA,QAAKoD,SAAS,CAAC,iCAAiC,CAAAC,QAAA,eAC9CvD,IAAA,CAACT,MAAM,EAAC+D,SAAS,CAAC,mCAAmC,CAAE,CAAC,cACxDtD,IAAA,MAAAuD,QAAA,CAAG,2CAAyC,CAAG,CAAC,EAC7C,CACN,CAGA,CAAA3C,MAAM,SAANA,MAAM,iBAANA,MAAM,CAAEgE,KAAK,gBACZ1E,KAAA,QAAKoD,SAAS,CAAC,oBAAoB,CAAAC,QAAA,eACjCvD,IAAA,OAAIsD,SAAS,CAAC,kCAAkC,CAAAC,QAAA,CAAC,iBAAe,CAAI,CAAC,cACrEvD,IAAA,QAAKsD,SAAS,CAAC,WAAW,CAAAC,QAAA,CACvB3C,MAAM,CAACgE,KAAK,CAACC,GAAG,CAAC,CAAAC,IAAA,CAAaC,KAAK,OAAjB,CAACC,EAAE,CAAEC,IAAI,CAAC,CAAAH,IAAA,oBAC3B5E,KAAA,QAAiBoD,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAC5CrD,KAAA,SAAMoD,SAAS,CAAC,mBAAmB,CAAAC,QAAA,EAAEwB,KAAK,CAAG,CAAC,CAAC,GAAC,EAAM,CAAC,cACvD/E,IAAA,SAAMsD,SAAS,CAAC,QAAQ,CAAAC,QAAA,CAAEyB,EAAE,CAAO,CAAC,cACpChF,IAAA,QAAKsD,SAAS,CAAC,wCAAwC,CAAAC,QAAA,cACrDvD,IAAA,QACEsD,SAAS,qBAAAT,MAAA,CAAsBkC,KAAK,GAAK,CAAC,CAAG,cAAc,CAAG,aAAa,CAAG,CAC9EN,KAAK,CAAE,CAAET,KAAK,IAAAnB,MAAA,CAAKoC,IAAI,CAAG,GAAG,KAAI,CAAE,CAC/B,CAAC,CACJ,CAAC,cACN/E,KAAA,SAAMoD,SAAS,CAAC,uCAAuC,CAAAC,QAAA,EACpD,CAAC0B,IAAI,CAAG,GAAG,EAAEN,OAAO,CAAC,CAAC,CAAC,CAAC,GAC3B,EAAM,CAAC,GAXCI,KAYL,CAAC,EACP,CAAC,CACC,CAAC,EACH,CACN,EACE,CAAC,EACH,CAAC,EACH,CAAC,EACH,CAAC,CAEV,CAEA,cAAe,CAAA1E,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}