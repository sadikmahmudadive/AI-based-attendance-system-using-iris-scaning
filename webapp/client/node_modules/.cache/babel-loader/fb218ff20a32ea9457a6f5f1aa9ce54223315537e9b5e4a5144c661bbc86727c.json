{"ast":null,"code":"var _jsxFileName = \"D:\\\\Code\\\\AI\\\\Face Recognition using Iris scanning\\\\webapp\\\\client\\\\src\\\\pages\\\\MarkAttendance.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useCallback, useRef } from 'react';\nimport { useDropzone } from 'react-dropzone';\nimport Webcam from 'react-webcam';\nimport { Camera, Upload, CheckCircle, XCircle, RefreshCw, Image } from 'lucide-react';\nimport axios from 'axios';\nimport toast from 'react-hot-toast';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction MarkAttendance() {\n  _s();\n  const [mode, setMode] = useState('upload'); // 'upload' or 'webcam'\n  const [preview, setPreview] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [result, setResult] = useState(null);\n  const webcamRef = useRef(null);\n  const onDrop = useCallback(acceptedFiles => {\n    const file = acceptedFiles[0];\n    if (file) {\n      setPreview(URL.createObjectURL(file));\n      processImage(file);\n    }\n  }, []);\n  const {\n    getRootProps,\n    getInputProps,\n    isDragActive\n  } = useDropzone({\n    onDrop,\n    accept: {\n      'image/*': ['.jpeg', '.jpg', '.png', '.bmp', '.tiff']\n    },\n    maxFiles: 1\n  });\n  const captureFromWebcam = useCallback(() => {\n    var _webcamRef$current;\n    const imageSrc = (_webcamRef$current = webcamRef.current) === null || _webcamRef$current === void 0 ? void 0 : _webcamRef$current.getScreenshot();\n    if (imageSrc) {\n      setPreview(imageSrc);\n      // Convert base64 to blob\n      fetch(imageSrc).then(res => res.blob()).then(blob => {\n        const file = new File([blob], 'webcam-capture.jpg', {\n          type: 'image/jpeg'\n        });\n        processImage(file);\n      });\n    }\n  }, []);\n  const processImage = async file => {\n    setLoading(true);\n    setResult(null);\n    const formData = new FormData();\n    formData.append('image', file);\n    try {\n      const response = await axios.post('/api/attendance/mark', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      });\n      const data = response.data.data;\n      setResult(data);\n      if (data.success) {\n        toast.success(`${data.entry_type} recorded for ${data.name}!`);\n      } else {\n        toast.error(data.message || 'Recognition failed');\n      }\n    } catch (error) {\n      var _error$response, _error$response$data;\n      const errorMsg = ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.error) || 'Failed to process image';\n      toast.error(errorMsg);\n      setResult({\n        success: false,\n        message: errorMsg\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n  const reset = () => {\n    setPreview(null);\n    setResult(null);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"animate-fadeIn\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-3xl font-bold text-white mb-2\",\n        children: \"Mark Attendance\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-white/70\",\n        children: \"Upload or capture an iris image to mark attendance\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 lg:grid-cols-2 gap-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card overflow-hidden\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-gradient-to-r from-indigo-600 to-purple-600 px-6 py-4\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-xl font-bold text-white\",\n              children: \"Capture Iris\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex space-x-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setMode('upload'),\n                className: `px-4 py-2 rounded-lg transition-all ${mode === 'upload' ? 'bg-white text-indigo-600' : 'bg-white/20 text-white hover:bg-white/30'}`,\n                children: /*#__PURE__*/_jsxDEV(Upload, {\n                  className: \"w-5 h-5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 102,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 94,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setMode('webcam'),\n                className: `px-4 py-2 rounded-lg transition-all ${mode === 'webcam' ? 'bg-white text-indigo-600' : 'bg-white/20 text-white hover:bg-white/30'}`,\n                children: /*#__PURE__*/_jsxDEV(Camera, {\n                  className: \"w-5 h-5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 112,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 104,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-6\",\n          children: [mode === 'upload' ? /*#__PURE__*/_jsxDEV(\"div\", {\n            ...getRootProps(),\n            className: `dropzone ${isDragActive ? 'active' : ''}`,\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              ...getInputProps()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 17\n            }, this), preview ? /*#__PURE__*/_jsxDEV(\"img\", {\n              src: preview,\n              alt: \"Preview\",\n              className: \"max-h-64 mx-auto rounded-lg\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(Image, {\n                className: \"w-16 h-16 mx-auto mb-4 text-gray-400\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 129,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-lg text-gray-600 mb-2\",\n                children: isDragActive ? 'Drop the image here' : 'Drag & drop an iris image'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 130,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-400\",\n                children: \"or click to select\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 133,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"rounded-lg overflow-hidden mb-4\",\n              children: /*#__PURE__*/_jsxDEV(Webcam, {\n                ref: webcamRef,\n                audio: false,\n                screenshotFormat: \"image/jpeg\",\n                className: \"w-full\",\n                videoConstraints: {\n                  width: 640,\n                  height: 480,\n                  facingMode: 'user'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 140,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: captureFromWebcam,\n              disabled: loading,\n              className: \"btn-primary flex items-center space-x-2 mx-auto\",\n              children: [/*#__PURE__*/_jsxDEV(Camera, {\n                className: \"w-5 h-5\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 157,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Capture\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 158,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 152,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 15\n          }, this), loading && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-center mt-6\",\n            children: [/*#__PURE__*/_jsxDEV(RefreshCw, {\n              className: \"w-8 h-8 animate-spin text-indigo-600\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 165,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"ml-2 text-gray-600\",\n              children: \"Processing...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 166,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 15\n          }, this), preview && !loading && /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: reset,\n            className: \"btn-secondary flex items-center space-x-2 mx-auto mt-4\",\n            children: [/*#__PURE__*/_jsxDEV(RefreshCw, {\n              className: \"w-5 h-5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 175,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Try Again\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card overflow-hidden\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: `px-6 py-4 ${result !== null && result !== void 0 && result.success ? 'bg-gradient-to-r from-green-500 to-emerald-600' : result && !result.success ? 'bg-gradient-to-r from-red-500 to-rose-600' : 'bg-gradient-to-r from-gray-500 to-gray-600'}`,\n          children: /*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-xl font-bold text-white flex items-center\",\n            children: result !== null && result !== void 0 && result.success ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(CheckCircle, {\n                className: \"w-6 h-6 mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 193,\n                columnNumber: 19\n              }, this), \" Attendance Recorded\"]\n            }, void 0, true) : result ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(XCircle, {\n                className: \"w-6 h-6 mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 195,\n                columnNumber: 19\n              }, this), \" Recognition Failed\"]\n            }, void 0, true) : 'Result'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-6\",\n          children: [result !== null && result !== void 0 && result.success ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"animate-fadeIn\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center mb-6\",\n              children: /*#__PURE__*/_jsxDEV(CheckCircle, {\n                className: \"w-20 h-20 text-green-500 mx-auto mb-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 206,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 205,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between py-3 border-b\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-gray-500\",\n                  children: \"Name\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 211,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-semibold\",\n                  children: result.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 212,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 210,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between py-3 border-b\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-gray-500\",\n                  children: \"Iris ID\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 215,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-mono\",\n                  children: result.iris_id\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 216,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 214,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between py-3 border-b\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-gray-500\",\n                  children: \"Time\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 219,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: new Date(result.timestamp).toLocaleTimeString()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 220,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 218,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between py-3 border-b\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-gray-500\",\n                  children: \"Entry Type\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 223,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: `badge ${result.entry_type === 'CHECK_IN' ? 'badge-success' : 'badge-info'}`,\n                  children: result.entry_type\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 224,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 222,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between py-3 border-b\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-gray-500\",\n                  children: \"Status\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 229,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: `badge ${result.status === 'ON_TIME' ? 'badge-success' : result.status === 'LATE' ? 'badge-warning' : 'badge-info'}`,\n                  children: result.status\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 230,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 228,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between py-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-gray-500\",\n                  children: \"Confidence\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 238,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"w-24 h-3 bg-gray-200 rounded-full mr-2\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"h-3 bg-green-500 rounded-full\",\n                      style: {\n                        width: `${result.confidence * 100}%`\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 241,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 240,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"font-semibold\",\n                    children: [(result.confidence * 100).toFixed(1), \"%\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 246,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 239,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 237,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 209,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 15\n          }, this) : result ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center py-8 animate-fadeIn\",\n            children: [/*#__PURE__*/_jsxDEV(XCircle, {\n              className: \"w-20 h-20 text-red-500 mx-auto mb-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 253,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-lg text-gray-600\",\n              children: result.message\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 254,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 252,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center py-12 text-gray-400\",\n            children: [/*#__PURE__*/_jsxDEV(Camera, {\n              className: \"w-16 h-16 mx-auto mb-4 opacity-50\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 258,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Upload or capture an image to see results\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 259,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 15\n          }, this), (result === null || result === void 0 ? void 0 : result.top_k) && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-6 pt-6 border-t\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"font-semibold mb-3 text-gray-700\",\n              children: \"Top Predictions\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 266,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-2\",\n              children: result.top_k.map(([id, conf], index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"w-8 text-gray-400\",\n                  children: [index + 1, \".\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 270,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"flex-1\",\n                  children: id\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 271,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"w-24 h-2 bg-gray-200 rounded-full mr-2\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: `h-2 rounded-full ${index === 0 ? 'bg-green-500' : 'bg-gray-400'}`,\n                    style: {\n                      width: `${conf * 100}%`\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 273,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 272,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-sm text-gray-600 w-16 text-right\",\n                  children: [(conf * 100).toFixed(1), \"%\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 278,\n                  columnNumber: 23\n                }, this)]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 269,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 267,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 265,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 80,\n    columnNumber: 5\n  }, this);\n}\n_s(MarkAttendance, \"2w2ECpwSKlgL2dJdPa/LIMqE8IA=\", false, function () {\n  return [useDropzone];\n});\n_c = MarkAttendance;\nexport default MarkAttendance;\nvar _c;\n$RefreshReg$(_c, \"MarkAttendance\");","map":{"version":3,"names":["React","useState","useCallback","useRef","useDropzone","Webcam","Camera","Upload","CheckCircle","XCircle","RefreshCw","Image","axios","toast","jsxDEV","_jsxDEV","Fragment","_Fragment","MarkAttendance","_s","mode","setMode","preview","setPreview","loading","setLoading","result","setResult","webcamRef","onDrop","acceptedFiles","file","URL","createObjectURL","processImage","getRootProps","getInputProps","isDragActive","accept","maxFiles","captureFromWebcam","_webcamRef$current","imageSrc","current","getScreenshot","fetch","then","res","blob","File","type","formData","FormData","append","response","post","headers","data","success","entry_type","name","error","message","_error$response","_error$response$data","errorMsg","reset","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","src","alt","ref","audio","screenshotFormat","videoConstraints","width","height","facingMode","disabled","iris_id","Date","timestamp","toLocaleTimeString","status","style","confidence","toFixed","top_k","map","id","conf","index","_c","$RefreshReg$"],"sources":["D:/Code/AI/Face Recognition using Iris scanning/webapp/client/src/pages/MarkAttendance.js"],"sourcesContent":["import React, { useState, useCallback, useRef } from 'react';\r\nimport { useDropzone } from 'react-dropzone';\r\nimport Webcam from 'react-webcam';\r\nimport { Camera, Upload, CheckCircle, XCircle, RefreshCw, Image } from 'lucide-react';\r\nimport axios from 'axios';\r\nimport toast from 'react-hot-toast';\r\n\r\nfunction MarkAttendance() {\r\n  const [mode, setMode] = useState('upload'); // 'upload' or 'webcam'\r\n  const [preview, setPreview] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [result, setResult] = useState(null);\r\n  const webcamRef = useRef(null);\r\n\r\n  const onDrop = useCallback((acceptedFiles) => {\r\n    const file = acceptedFiles[0];\r\n    if (file) {\r\n      setPreview(URL.createObjectURL(file));\r\n      processImage(file);\r\n    }\r\n  }, []);\r\n\r\n  const { getRootProps, getInputProps, isDragActive } = useDropzone({\r\n    onDrop,\r\n    accept: {\r\n      'image/*': ['.jpeg', '.jpg', '.png', '.bmp', '.tiff']\r\n    },\r\n    maxFiles: 1\r\n  });\r\n\r\n  const captureFromWebcam = useCallback(() => {\r\n    const imageSrc = webcamRef.current?.getScreenshot();\r\n    if (imageSrc) {\r\n      setPreview(imageSrc);\r\n      // Convert base64 to blob\r\n      fetch(imageSrc)\r\n        .then(res => res.blob())\r\n        .then(blob => {\r\n          const file = new File([blob], 'webcam-capture.jpg', { type: 'image/jpeg' });\r\n          processImage(file);\r\n        });\r\n    }\r\n  }, []);\r\n\r\n  const processImage = async (file) => {\r\n    setLoading(true);\r\n    setResult(null);\r\n\r\n    const formData = new FormData();\r\n    formData.append('image', file);\r\n\r\n    try {\r\n      const response = await axios.post('/api/attendance/mark', formData, {\r\n        headers: { 'Content-Type': 'multipart/form-data' }\r\n      });\r\n\r\n      const data = response.data.data;\r\n      setResult(data);\r\n\r\n      if (data.success) {\r\n        toast.success(`${data.entry_type} recorded for ${data.name}!`);\r\n      } else {\r\n        toast.error(data.message || 'Recognition failed');\r\n      }\r\n    } catch (error) {\r\n      const errorMsg = error.response?.data?.error || 'Failed to process image';\r\n      toast.error(errorMsg);\r\n      setResult({ success: false, message: errorMsg });\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const reset = () => {\r\n    setPreview(null);\r\n    setResult(null);\r\n  };\r\n\r\n  return (\r\n    <div className=\"animate-fadeIn\">\r\n      {/* Header */}\r\n      <div className=\"mb-8\">\r\n        <h1 className=\"text-3xl font-bold text-white mb-2\">Mark Attendance</h1>\r\n        <p className=\"text-white/70\">Upload or capture an iris image to mark attendance</p>\r\n      </div>\r\n\r\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8\">\r\n        {/* Input Section */}\r\n        <div className=\"card overflow-hidden\">\r\n          <div className=\"bg-gradient-to-r from-indigo-600 to-purple-600 px-6 py-4\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <h2 className=\"text-xl font-bold text-white\">Capture Iris</h2>\r\n              <div className=\"flex space-x-2\">\r\n                <button\r\n                  onClick={() => setMode('upload')}\r\n                  className={`px-4 py-2 rounded-lg transition-all ${\r\n                    mode === 'upload' \r\n                      ? 'bg-white text-indigo-600' \r\n                      : 'bg-white/20 text-white hover:bg-white/30'\r\n                  }`}\r\n                >\r\n                  <Upload className=\"w-5 h-5\" />\r\n                </button>\r\n                <button\r\n                  onClick={() => setMode('webcam')}\r\n                  className={`px-4 py-2 rounded-lg transition-all ${\r\n                    mode === 'webcam' \r\n                      ? 'bg-white text-indigo-600' \r\n                      : 'bg-white/20 text-white hover:bg-white/30'\r\n                  }`}\r\n                >\r\n                  <Camera className=\"w-5 h-5\" />\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"p-6\">\r\n            {mode === 'upload' ? (\r\n              <div\r\n                {...getRootProps()}\r\n                className={`dropzone ${isDragActive ? 'active' : ''}`}\r\n              >\r\n                <input {...getInputProps()} />\r\n                {preview ? (\r\n                  <img src={preview} alt=\"Preview\" className=\"max-h-64 mx-auto rounded-lg\" />\r\n                ) : (\r\n                  <>\r\n                    <Image className=\"w-16 h-16 mx-auto mb-4 text-gray-400\" />\r\n                    <p className=\"text-lg text-gray-600 mb-2\">\r\n                      {isDragActive ? 'Drop the image here' : 'Drag & drop an iris image'}\r\n                    </p>\r\n                    <p className=\"text-sm text-gray-400\">or click to select</p>\r\n                  </>\r\n                )}\r\n              </div>\r\n            ) : (\r\n              <div className=\"text-center\">\r\n                <div className=\"rounded-lg overflow-hidden mb-4\">\r\n                  <Webcam\r\n                    ref={webcamRef}\r\n                    audio={false}\r\n                    screenshotFormat=\"image/jpeg\"\r\n                    className=\"w-full\"\r\n                    videoConstraints={{\r\n                      width: 640,\r\n                      height: 480,\r\n                      facingMode: 'user'\r\n                    }}\r\n                  />\r\n                </div>\r\n                <button\r\n                  onClick={captureFromWebcam}\r\n                  disabled={loading}\r\n                  className=\"btn-primary flex items-center space-x-2 mx-auto\"\r\n                >\r\n                  <Camera className=\"w-5 h-5\" />\r\n                  <span>Capture</span>\r\n                </button>\r\n              </div>\r\n            )}\r\n\r\n            {loading && (\r\n              <div className=\"flex items-center justify-center mt-6\">\r\n                <RefreshCw className=\"w-8 h-8 animate-spin text-indigo-600\" />\r\n                <span className=\"ml-2 text-gray-600\">Processing...</span>\r\n              </div>\r\n            )}\r\n\r\n            {preview && !loading && (\r\n              <button\r\n                onClick={reset}\r\n                className=\"btn-secondary flex items-center space-x-2 mx-auto mt-4\"\r\n              >\r\n                <RefreshCw className=\"w-5 h-5\" />\r\n                <span>Try Again</span>\r\n              </button>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Result Section */}\r\n        <div className=\"card overflow-hidden\">\r\n          <div className={`px-6 py-4 ${\r\n            result?.success \r\n              ? 'bg-gradient-to-r from-green-500 to-emerald-600' \r\n              : result && !result.success\r\n                ? 'bg-gradient-to-r from-red-500 to-rose-600'\r\n                : 'bg-gradient-to-r from-gray-500 to-gray-600'\r\n          }`}>\r\n            <h2 className=\"text-xl font-bold text-white flex items-center\">\r\n              {result?.success ? (\r\n                <><CheckCircle className=\"w-6 h-6 mr-2\" /> Attendance Recorded</>\r\n              ) : result ? (\r\n                <><XCircle className=\"w-6 h-6 mr-2\" /> Recognition Failed</>\r\n              ) : (\r\n                'Result'\r\n              )}\r\n            </h2>\r\n          </div>\r\n\r\n          <div className=\"p-6\">\r\n            {result?.success ? (\r\n              <div className=\"animate-fadeIn\">\r\n                <div className=\"text-center mb-6\">\r\n                  <CheckCircle className=\"w-20 h-20 text-green-500 mx-auto mb-4\" />\r\n                </div>\r\n                \r\n                <div className=\"space-y-4\">\r\n                  <div className=\"flex justify-between py-3 border-b\">\r\n                    <span className=\"text-gray-500\">Name</span>\r\n                    <span className=\"font-semibold\">{result.name}</span>\r\n                  </div>\r\n                  <div className=\"flex justify-between py-3 border-b\">\r\n                    <span className=\"text-gray-500\">Iris ID</span>\r\n                    <span className=\"font-mono\">{result.iris_id}</span>\r\n                  </div>\r\n                  <div className=\"flex justify-between py-3 border-b\">\r\n                    <span className=\"text-gray-500\">Time</span>\r\n                    <span>{new Date(result.timestamp).toLocaleTimeString()}</span>\r\n                  </div>\r\n                  <div className=\"flex justify-between py-3 border-b\">\r\n                    <span className=\"text-gray-500\">Entry Type</span>\r\n                    <span className={`badge ${result.entry_type === 'CHECK_IN' ? 'badge-success' : 'badge-info'}`}>\r\n                      {result.entry_type}\r\n                    </span>\r\n                  </div>\r\n                  <div className=\"flex justify-between py-3 border-b\">\r\n                    <span className=\"text-gray-500\">Status</span>\r\n                    <span className={`badge ${\r\n                      result.status === 'ON_TIME' ? 'badge-success' : \r\n                      result.status === 'LATE' ? 'badge-warning' : 'badge-info'\r\n                    }`}>\r\n                      {result.status}\r\n                    </span>\r\n                  </div>\r\n                  <div className=\"flex justify-between py-3\">\r\n                    <span className=\"text-gray-500\">Confidence</span>\r\n                    <div className=\"flex items-center\">\r\n                      <div className=\"w-24 h-3 bg-gray-200 rounded-full mr-2\">\r\n                        <div \r\n                          className=\"h-3 bg-green-500 rounded-full\" \r\n                          style={{ width: `${result.confidence * 100}%` }}\r\n                        ></div>\r\n                      </div>\r\n                      <span className=\"font-semibold\">{(result.confidence * 100).toFixed(1)}%</span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ) : result ? (\r\n              <div className=\"text-center py-8 animate-fadeIn\">\r\n                <XCircle className=\"w-20 h-20 text-red-500 mx-auto mb-4\" />\r\n                <p className=\"text-lg text-gray-600\">{result.message}</p>\r\n              </div>\r\n            ) : (\r\n              <div className=\"text-center py-12 text-gray-400\">\r\n                <Camera className=\"w-16 h-16 mx-auto mb-4 opacity-50\" />\r\n                <p>Upload or capture an image to see results</p>\r\n              </div>\r\n            )}\r\n\r\n            {/* Top Predictions */}\r\n            {result?.top_k && (\r\n              <div className=\"mt-6 pt-6 border-t\">\r\n                <h3 className=\"font-semibold mb-3 text-gray-700\">Top Predictions</h3>\r\n                <div className=\"space-y-2\">\r\n                  {result.top_k.map(([id, conf], index) => (\r\n                    <div key={index} className=\"flex items-center\">\r\n                      <span className=\"w-8 text-gray-400\">{index + 1}.</span>\r\n                      <span className=\"flex-1\">{id}</span>\r\n                      <div className=\"w-24 h-2 bg-gray-200 rounded-full mr-2\">\r\n                        <div \r\n                          className={`h-2 rounded-full ${index === 0 ? 'bg-green-500' : 'bg-gray-400'}`}\r\n                          style={{ width: `${conf * 100}%` }}\r\n                        ></div>\r\n                      </div>\r\n                      <span className=\"text-sm text-gray-600 w-16 text-right\">\r\n                        {(conf * 100).toFixed(1)}%\r\n                      </span>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MarkAttendance;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}